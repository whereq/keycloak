{"version":3,"file":"ContinueCancelModal.js","names":["React","Modal","ModalVariant","Button","Msg","ContinueCancelModal","Component","constructor","props","_defineProperty","setState","isModalOpen","onClose","handleModalToggle","onContinue","state","render","createElement","Fragment","id","buttonId","variant","buttonVariant","onClick","isDisabled","msgKey","buttonTitle","_extends","small","title","localize","modalTitle","isOpen","actions","key","handleContinue","modalContinueButtonLabel","modalCancelButtonLabel","modalMessage","children"],"sources":["../../src/app/widgets/ContinueCancelModal.tsx"],"sourcesContent":["/*\r\n * Copyright 2019 Red Hat, Inc. and/or its affiliates.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as React from 'react';\r\nimport { Modal, ModalVariant, Button, ButtonProps } from '@patternfly/react-core';\r\nimport {Msg} from './Msg';\r\n\r\n/**\r\n * For any of these properties that are strings, you can\r\n * pass in a localization key instead of a static string.\r\n */\r\ninterface ContinueCancelModalProps {\r\n    buttonTitle?: string;\r\n    buttonVariant?: ButtonProps['variant'];\r\n    buttonId?: string;\r\n    render?(toggle: () => void): React.ReactNode;\r\n    modalTitle: string;\r\n    modalMessage?: string;\r\n    modalContinueButtonLabel?: string;\r\n    modalCancelButtonLabel?: string;\r\n    onContinue: () => void;\r\n    onClose?: () => void;\r\n    isDisabled?: boolean;\r\n}\r\n\r\ninterface ContinueCancelModalState {\r\n    isModalOpen: boolean;\r\n}\r\n\r\n/**\r\n * This class renders a button that provides a continue/cancel modal dialog when clicked.  If the user selects 'Continue'\r\n * then the onContinue function is executed.\r\n *\r\n * @author Stan Silvert ssilvert@redhat.com (C) 2019 Red Hat Inc.\r\n */\r\nexport class ContinueCancelModal extends React.Component<ContinueCancelModalProps, ContinueCancelModalState> {\r\n    protected static defaultProps = {\r\n        buttonVariant: 'primary',\r\n        modalContinueButtonLabel: 'continue',\r\n        modalCancelButtonLabel: 'doCancel',\r\n        isDisabled: false\r\n    };\r\n\r\n    public constructor(props: ContinueCancelModalProps) {\r\n        super(props);\r\n        this.state = {\r\n            isModalOpen: false\r\n        };\r\n    }\r\n\r\n    private handleModalToggle = () => {\r\n        this.setState(({ isModalOpen }) => ({\r\n            isModalOpen: !isModalOpen\r\n        }));\r\n        if (this.props.onClose) this.props.onClose();\r\n    };\r\n\r\n    private handleContinue = () => {\r\n        this.handleModalToggle();\r\n        this.props.onContinue();\r\n    }\r\n\r\n    public render(): React.ReactNode {\r\n        const { isModalOpen } = this.state;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                {!this.props.render &&\r\n                <Button id={this.props.buttonId} variant={this.props.buttonVariant} onClick={this.handleModalToggle} isDisabled={this.props.isDisabled}>\r\n                    <Msg msgKey={this.props.buttonTitle!}/>\r\n                </Button>}\r\n                {this.props.render && this.props.render(this.handleModalToggle)}\r\n                <Modal\r\n                    {...this.props}\r\n                    variant={ModalVariant.small}\r\n                    title={Msg.localize(this.props.modalTitle)}\r\n                    isOpen={isModalOpen}\r\n                    onClose={this.handleModalToggle}\r\n                    actions={[\r\n                        <Button id='modal-confirm' key=\"confirm\" variant=\"primary\" onClick={this.handleContinue}>\r\n                            <Msg msgKey={this.props.modalContinueButtonLabel!}/>\r\n                        </Button>,\r\n                        <Button id='modal-cancel' key=\"cancel\" variant=\"secondary\" onClick={this.handleModalToggle}>\r\n                            <Msg msgKey={this.props.modalCancelButtonLabel!}/>\r\n                        </Button>\r\n                    ]}\r\n                >\r\n                    { !this.props.modalMessage && this.props.children}\r\n                    { this.props.modalMessage && <Msg msgKey={this.props.modalMessage}/>}\r\n                </Modal>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n};\r\n"],"mappings":"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"}